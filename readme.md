#### Test_Assistant



img/   图片素材

common/  常用方法,log配置

——Ass_util.py  常规用方法

——log.py log配置

ui/

——ui_mainpage.py   主界面ui

——ui_atpage.py   AT界面ui

——ui_settingspage.py   设置界面ui

config/

——config.cfg 配置文件

mainpage.py 主界面操作

atpage.py  AT界面操作

settingspage.py  设置界面操作

start.py   main方法

readme.md

---

Tab AP

![image-20210301174402435](D:\ihblu\wyrepo\Test_Assistant\readme.assets\image-20210301174402435.png)

Tab CP

![image-20210301174214601](D:\ihblu\wyrepo\Test_Assistant\readme.assets\image-20210301174214601.png)

##### CP 测试项

- [x] 主叫主挂：终端通过串口连接pc，通过ATD;拨打默认号码，对端接听后，5s后终端主动挂断

​					完整流程：["拨号"，"对端振铃"，"对端接听"，"通话结束"]

- [x] 主叫被挂：终端通过串口连接pc，通过ATD;拨打默认号码,，对端响铃后， 5s后终端主动挂断

​					完整流程：["拨号"，"对端振铃"，"对端接听"，”通话结束"]

- [x] 主叫拒接：终端通过串口连接pc，通过ATD;拨打默认号码，对端响铃后，对端挂断

​					完整流程：["拨号"，"对端振铃"，"通话结束"]

- [x] 主叫未接：终端通过串口连接pc，通过ATD;拨打默认号码，对端响铃后，等待响铃结束，不接听

​					完整流程：["拨号"，"对端振铃"，“通话结束”]




 ***Q:***



1.CP点击开始测试后会先检测入网状态，入网成功会开始测试，失败会提示网络问题

2.增加自定义设置通话测试间隔，

优化结构

20/11/17

- [ ] 入网检测确认入网状态后，再进行测试项的进行

  --- 现在在点击开始测试后，根据是否能够拨号成功判断能否开始测试

- [x] 增加修改配置的ui，包括默认被接号码，短信内容，默认测试次数



20/11/18

- [x] 测试项开始后，无法发送at指令

- [x] 测试结束后，在下方发送区可以发送成功AT指令，左侧选择AT指令无法显示返回结果

- [ ] tab CP 在下方发送区输入多行AT指令不会依次执行，卡死



20/12/25
JFP1301，1304等功能机使用atd;拨号，终端不会显示拨号界面，TT中会显示AT+CLCC返回，py串口未抓到，如果定时手动AT+DSCI?查询
时间间隔设置





#### Something

##### 2021年2月22日

进展：

1.之前功能机的AT通话流程无法送定时接收获取，需要设置AT^DSCI=1![image-20210222180949677](C:\Users\wangyanlin\AppData\Roaming\Typora\typora-user-images\image-20210222180949677.png)

，可以获取获取并判断通话状态

2.四项测试流程可以正常进行



Q:

1.完成一项测试后，选择下一项测试点击开始无法进行    √

2.ATD主动拨号功能机不显示界面，对端可以接收到

3.每回合测试完成后打印log（未添加） √

4.添加设置通话测试时间间隔  √

5.添加一个使用at+creg判断是否入网的method  √

6.AP 左侧界面宽度需要增加

7.默认设置修改后，Tab CP中测试项——测试次数未变化 

8.将各个类分为多个文件，start.py调用  



**AT+CGATT(查询网络是否激活)** 返回：+CGATT:1，表示网络已激活；若返回：+CGATT:0，则表示网络未激活，请尝试重启模组激活网络。 例： 发送命令： AT+CGATT? 模块返回： +CGATT:1 OK  AT+CEREG(查询网络注册状态) 该命令用于查询终端EPS网络注册状态。当使能提示时，终端的网络注册状态信息有变化，会主动上报给用户终端。通过不同的设置可以上报EPS注册状态、位置区码、小区ID、服务小区的接入技术等信息，通常情况下只需要设置为自动上报EPS注册状态。 例：设置网络注册状态上报信息 发送命令： AT+CEREG=1 模块返回： OK 设置成功后，当网络注册状态信息有变化，会主动上报给用户终端，如： +CEREG:1,1 OK 

AT+CGATT?   return：1：attach  0:detach